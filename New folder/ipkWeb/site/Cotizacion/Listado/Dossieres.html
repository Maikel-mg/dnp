<html lang="es">
	<head>
		<title>Listado Dossieres</title>

        <link rel='stylesheet' type='text/css' href='../../../css/ipkweb/jquery-ui-1.8.18.custom.css' />
        <link rel='stylesheet' type='text/css' href='../../../css/base.css' />
        <link rel='stylesheet' type='text/css' href='../../../css/estilos.css' />
	</head>
	<body>

    <div class='ui-layout-north' style='margin: 0; padding: 0; overflow: hidden;'>
        <div id='menu' class='toolbar'>
            <ul>
                <li>
                    <a href="../Listado/Dossieres.html">
                        <span class='icon-inbox'>&nbsp;</span>
                        <span>Dossieres</span>
                    </a>
                </li>
            </ul>
            <div class='clearFix'>&nbsp;</div>
        </div>
    </div>
			<div class="ui-layout-center">


                <style type="text/css">
                    .filtro{
                        border-left: 1px solid #DDD;
                        border-right: 1px solid #DDD;
                        border-bottom: 1px solid #DDD;


                        overflow: hidden;
                    }
                        .filtro .contenido{
                            padding: 10px;
                        }
                            .filtro .contenido label{
                                width : 150px;
                                display: inline-block;
                                text-align: right;

                                margin-right: 5px;
                            }
                    </style>


                <h3>Listado Dossieres</h3>
                <div id="listado" class='listado '>
                    <div id='contenedorLista' class='listado'>
                    </div>
                </div>
            </div>
            <div class="ui-layout-south">
                <div id='areaFiltro' class='filtro'>
                    <span class='block-Title textAlignIzquierda' style='font-size: 17px;'>Filtro</span>
                    <div class='botonera toolbar' style='height: 25px;'>
                        <ul>
                            <li>
                                <a href="#" id='btnFiltrar' accesskey="b">Buscar</a>
                            </li>
                            <li>
                                <a href="#" id='btnLimpiarFiltror' accesskey="l">Limpiar</a>
                            </li>
                        </ul>
                    </div>

                    <div class='contenido'>
                        <label for="Marca">Marca</label>
                        <input type="text" id="Marca" name="Marca" class='width20p'/>
                        <br>
                        <label for="Cliente">Cliente</label>
                        <input type="text" id="Cliente" name="Cliente" class='width20p'/>
                        <br>
                        <label for="NumDossier">Num. Dossier</label>
                        <input type="text" id="NumDossier" name="NumDossier" class='width20p'/>
                        <br>
                        <label for="TipoDossier">Tipo Dossier</label>
                        <input type="text" id="TipoDossier" name="TipoDossier" class='width20p'/>
                    </div>
                </div>
            </div>


		<script type="text/javascript" src='../../../js/libs/jquery-1.7.1.min.js'></script>
		<script type="text/javascript" src='../../../js/libs/jquery-ui-1.8.18.custom.min.js'></script>
		<script type="text/javascript" src="../../../js/libs/jquery.layout.min.js"></script>
		<script type="text/javascript" src="../../../js/libs/jquery.tmpl.min.js"></script>
		<script type="text/javascript" src="../../../js/libs/underscore-min.js"></script>
		<script type="text/javascript" src="../../../js/base/Utils.js"></script>
		<script type="text/javascript" src="../../../js/base/framework.base.js"></script>
        <script type="text/javascript" src="../../../js/base/framework.project.js"></script>
        <script type="text/javascript" src="../../../js/clases/DataSource.js"></script>
        <script type="text/javascript" src="../../../js/clases/ComponenteListado.js"></script>
        <script type="text/javascript" src="../../../js/vistas/Administracion/Configurador.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/ipkLista.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/ipkFicha.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/ipkListado.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/Textbox.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/TextboxNumerico.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/TextboxCalendario.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/ipkReferencia.js"></script>
        <script type="text/javascript" src="../../../js/componentes/plugins/ipkColeccion.js"></script>
        <script type="text/javascript" src="../../../js/vistas/Plantillas/Listado.js"></script>
		<script type="text/javascript">
            var controller = null;

            $(document).ready(function(){
				$('body').layout({
					north: {
						resizable  : false,
						closable : false,
						size: '30'
					}
				});

                var options = {
                    Listado          : "Dossier",
                    contenedor       : "contenedorLista",
                    DireccionEdicion : "../Ficha/Estructura.html"
                };

                controller = new ListadoController(options);
                controller.prepararFiltro = function(){
                    var cadena = '';
                    var marca = $('#Marca');
                    var cliente = $('#Cliente');
                    var numDossier = $('#NumDossier');
                    var tipoDossier = $('#TipoDossier');

                    if(marca.val() !== "")
                        cadena += " it.Marca Like '%" + marca.val() + "%'";

                    if(cliente.val() !== "")
                    {
                        if(cadena !== "") cadena += " OR ";
                        cadena += " it.NombreClteSolicitante Like '%" + cliente.val() + "%'";
                    }

                    if(numDossier.val() !== "")
                    {
                        if(cadena !== "") cadena += " OR ";
                        cadena += " it.NumDossier Like '%" + numDossier.val() + "%'";
                    }

                    if(tipoDossier.val() !== "")
                    {
                        if(cadena !== "") cadena += " OR ";
                        cadena += " it.TipoDossier Like '%" + tipoDossier.val() + "%'";
                    }

                    return cadena;
                };
			});
		</script>
	</body>
</html>




